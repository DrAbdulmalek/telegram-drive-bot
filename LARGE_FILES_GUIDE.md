# ุฏููู ุดุงูู ูุฏุนู ุงููููุงุช ุงููุจูุฑุฉ - ุจูุช ุชูููุฌุฑุงู Google Drive

## ๐ฏ ูุธุฑุฉ ุนุงูุฉ

ูุฐุง ุงูุฏููู ูุดุฑุญ ููููุฉ ุชูููู ุฏุนู ุงููููุงุช ุงููุจูุฑุฉ (ุญุชู 2 ุฌูุฌุงุจุงูุช) ูู ุจูุช ุชูููุฌุฑุงู ูุฑูุน ุงููููุงุช ุฅูู Google Drive.

## ๐ ููุงุฑูุฉ ุงูุญููู

### ุงูุญู ุงูุนุงุฏู (Bot API ุงูุงูุชุฑุงุถู)
- **ุงูุญุฏ ุงูุฃูุตู:** 20 ููุฌุงุจุงูุช
- **ุงูุฅุนุฏุงุฏ:** ุจุณูุท ุฌุฏุงู
- **ุงูููุงุฑุฏ:** ูุง ูุชุทูุจ ููุงุฑุฏ ุฅุถุงููุฉ
- **ุงูุงุณุชุฎุฏุงู:** ููุงุณุจ ูููููุงุช ุงูุตุบูุฑุฉ ูุงููุชูุณุทุฉ

### ุงูุญู ุงููุชูุฏู (Local Bot API Server)
- **ุงูุญุฏ ุงูุฃูุตู:** 2 ุฌูุฌุงุจุงูุช
- **ุงูุฅุนุฏุงุฏ:** ูุชุทูุจ Docker ูุฅุนุฏุงุฏ ุฅุถุงูู
- **ุงูููุงุฑุฏ:** ูุญุชุงุฌ 4+ ุฌูุฌุงุจุงูุช RAM
- **ุงูุงุณุชุฎุฏุงู:** ููุงุณุจ ูููููุงุช ุงููุจูุฑุฉ ูุงููุดุงุฑูุน ุงููุชูุฏูุฉ

## ๐ง ุงูุฅุนุฏุงุฏ ุงูุชูุตููู ูููููุงุช ุงููุจูุฑุฉ

### ุงููุฑุญูุฉ 1: ุชุญุถูุฑ ุงูุจูุฆุฉ

#### ุชุซุจูุช Docker

**ุนูู Windows:**
1. ูุฒูู Docker Desktop ูู [docker.com](https://www.docker.com/products/docker-desktop)
2. ุซุจุช ุงูุจุฑูุงูุฌ ูุงุชุจุน ุงูุชุนูููุงุช
3. ุฃุนุฏ ุชุดุบูู ุงูููุจููุชุฑ
4. ุชุญูู ูู ุงูุชุซุจูุช: `docker --version`

**ุนูู macOS:**
```bash
# ุจุงุณุชุฎุฏุงู Homebrew
brew install --cask docker

# ุฃู ูุฒูู ูู ุงููููุน ุงูุฑุณูู
# https://www.docker.com/products/docker-desktop
```

**ุนูู Linux (Ubuntu/Debian):**
```bash
# ุชุญุฏูุซ ุงููุธุงู
sudo apt update

# ุชุซุจูุช Docker
sudo apt install -y docker.io docker-compose

# ุจุฏุก ุงูุฎุฏูุฉ
sudo systemctl start docker
sudo systemctl enable docker

# ุฅุถุงูุฉ ุงููุณุชุฎุฏู ููุฌููุนุฉ docker
sudo usermod -aG docker $USER

# ุฅุนุงุฏุฉ ุชุณุฌูู ุงูุฏุฎูู ุฃู ุชุดุบูู:
newgrp docker

# ุงูุชุญูู ูู ุงูุชุซุจูุช
docker --version
```

### ุงููุฑุญูุฉ 2: ุงูุญุตูู ุนูู ุจูุงูุงุช ุงุนุชูุงุฏ Telegram

#### ุฅูุดุงุก ุชุทุจูู Telegram

1. **ุงุฐูุจ ุฅูู [my.telegram.org](https://my.telegram.org)**
2. **ุณุฌู ุฏุฎููู ุจุฑูู ูุงุชูู**
3. **ุงุฐูุจ ุฅูู "API development tools"**
4. **ุฃูุดุฆ ุชุทุจูู ุฌุฏูุฏ:**
   - **App title:** `My Bot API Server`
   - **Short name:** `mybotapi`
   - **Platform:** `Server`
   - **Description:** `Local Bot API Server for large files`

5. **ุงุญูุธ ุงููุนูููุงุช:**
   - `api_id` (ุฑูู)
   - `api_hash` (ูุต ุทููู)

### ุงููุฑุญูุฉ 3: ุชุดุบูู ุฎุงุฏู Bot API ุงููุญูู

#### ุฅูุดุงุก ูุฌูุฏ ุงูุจูุงูุงุช

```bash
# ุฅูุดุงุก ูุฌูุฏ ูุญูุธ ุจูุงูุงุช ุงูุฎุงุฏู
mkdir -p ~/telegram-bot-api-data
cd ~/telegram-bot-api-data
```

#### ุชุดุบูู ุงูุฎุงุฏู ุจุงุณุชุฎุฏุงู Docker

```bash
# ุชุดุบูู ุฎุงุฏู Bot API ุงููุญูู
docker run -d \
  --name telegram-bot-api \
  --restart unless-stopped \
  -p 8081:8081 \
  -v $(pwd)/data:/var/lib/telegram-bot-api \
  -e TELEGRAM_API_ID=YOUR_API_ID \
  -e TELEGRAM_API_HASH=YOUR_API_HASH \
  aiogram/telegram-bot-api:latest \
  --api-id=YOUR_API_ID \
  --api-hash=YOUR_API_HASH \
  --local \
  --verbosity=1
```

**โ๏ธ ููู:** ุงุณุชุจุฏู `YOUR_API_ID` ู `YOUR_API_HASH` ุจุงูููู ุงูุญููููุฉ!

#### ุงูุชุญูู ูู ุชุดุบูู ุงูุฎุงุฏู

```bash
# ุงูุชุญูู ูู ุญุงูุฉ ุงูุญุงููุฉ
docker ps

# ุนุฑุถ ุณุฌูุงุช ุงูุฎุงุฏู
docker logs telegram-bot-api

# ุงุฎุชุจุงุฑ ุงูุฎุงุฏู (ุงุณุชุจุฏู TOKEN ุจุฑูุฒ ุงูุจูุช ุงูุญูููู)
curl "http://localhost:8081/bot<YOUR_BOT_TOKEN>/getMe"
```

### ุงููุฑุญูุฉ 4: ุฅุนุฏุงุฏ ุงูุจูุช ูููููุงุช ุงููุจูุฑุฉ

#### ุชุญุฏูุซ ููู ุงูุจูุฆุฉ

```bash
# ุฅูุดุงุก ุฃู ุชุญุฏูุซ ููู .env
cat > .env << EOF
TELEGRAM_BOT_TOKEN=your_bot_token_here
GOOGLE_CREDENTIALS_FILE=credentials.json
BOT_API_SERVER=http://localhost:8081
EOF
```

#### ุชุดุบูู ุงูุจูุช ุงููุญุฏุซ

```bash
# ุชุดุบูู ุงููุณุฎุฉ ุงููุญุฏุซุฉ ูููููุงุช ุงููุจูุฑุฉ
python3 telegram_drive_bot_large_files.py
```

## ๐งช ุงุฎุชุจุงุฑ ุงููุธุงู

### ุงุฎุชุจุงุฑ ุฃุณุงุณู

```bash
# ุชุดุบูู ุงุฎุชุจุงุฑุงุช ุงููุธุงู
python3 test_large_files_bot.py
```

### ุงุฎุชุจุงุฑ ูุฏูู

1. **ุฃุฑุณู `/start` ููุจูุช**
2. **ุฃุฑุณู `/info` ูุนุฑุถ ูุนูููุงุช ุงูุฎุงุฏู**
3. **ุชุญูู ูู ุธููุฑ "ุงูุญุฏ ุงูุฃูุตู: 2048 ููุฌุงุจุงูุช"**
4. **ุฌุฑุจ ุฑูุน ููู ุตุบูุฑ ุฃููุงู**
5. **ุซู ุฌุฑุจ ููู ุฃูุจุฑ ูู 20 ููุฌุงุจุงูุช**

## ๐ ูุฑุงูุจุฉ ุงูุฃุฏุงุก

### ูุฑุงูุจุฉ ุงุณุชุฎุฏุงู ุงูููุงุฑุฏ

```bash
# ูุฑุงูุจุฉ ุงุณุชุฎุฏุงู Docker
docker stats telegram-bot-api

# ูุฑุงูุจุฉ ูุณุงุญุฉ ุงูุชุฎุฒูู
du -sh ~/telegram-bot-api-data/

# ูุฑุงูุจุฉ ุงูุฐุงูุฑุฉ ูุงููุนุงูุฌ
htop
```

### ุณุฌูุงุช ูููุฏุฉ

```bash
# ุณุฌูุงุช ุฎุงุฏู Bot API
docker logs -f telegram-bot-api

# ุณุฌูุงุช ุงูุจูุช (ุฅุฐุง ูุงู ูุนูู ูู ุงูุฎูููุฉ)
tail -f bot.log

# ูุฑุงูุจุฉ ุงูุดุจูุฉ
netstat -tlnp | grep 8081
```

## ๐ง ุงุณุชูุดุงู ุงูุฃุฎุทุงุก ุงูุดุงุฆุนุฉ

### ูุดููุฉ: "Connection refused to localhost:8081"

**ุงูุฃุณุจุงุจ ุงููุญุชููุฉ:**
- ุฎุงุฏู Bot API ุบูุฑ ูุนูู
- Docker ุบูุฑ ูุซุจุช ุฃู ูุง ูุนูู
- ุงููููุฐ 8081 ูุณุชุฎุฏู ูู ุจุฑูุงูุฌ ุขุฎุฑ

**ุงูุญููู:**
```bash
# ุงูุชุญูู ูู ุญุงูุฉ Docker
docker ps
docker logs telegram-bot-api

# ุฅุนุงุฏุฉ ุชุดุบูู ุงูุฎุงุฏู
docker restart telegram-bot-api

# ุงูุชุญูู ูู ุงููููุฐ
netstat -tlnp | grep 8081
lsof -i :8081
```

### ูุดููุฉ: "Invalid API ID or Hash"

**ุงูุญููู:**
1. ุชุญูู ูู ุตุญุฉ `api_id` ู `api_hash`
2. ุชุฃูุฏ ูู ุนุฏู ูุฌูุฏ ูุณุงูุงุช ุฅุถุงููุฉ
3. ุฌุฑุจ ุฅูุดุงุก ุชุทุจูู ุฌุฏูุฏ ุนูู my.telegram.org
4. ุชุฃูุฏ ูู ุงุณุชุฎุฏุงู ุงูููุน ุงูุตุญูุญ (Server)

### ูุดููุฉ: "Out of memory" ุฃู ุจุทุก ุดุฏูุฏ

**ุงูุญููู:**
```bash
# ุฒูุงุฏุฉ ุฐุงูุฑุฉ Docker
docker run --memory=4g telegram-bot-api

# ุชูุธูู ุงููููุงุช ุงููุคูุชุฉ
docker exec telegram-bot-api find /tmp -name "*.tmp" -delete

# ุฅุนุงุฏุฉ ุชุดุบูู Docker
sudo systemctl restart docker
```

### ูุดููุฉ: "File too large" ุฑุบู ุงุณุชุฎุฏุงู ุงูุฎุงุฏู ุงููุญูู

**ุงูุญููู:**
1. ุชุญูู ูู ูุชุบูุฑ `BOT_API_SERVER` ูู ููู `.env`
2. ุชุฃูุฏ ูู ุฃู ุงูุจูุช ูุณุชุฎุฏู ุงูุฎุงุฏู ุงููุญูู
3. ุฑุงุฌุน ุณุฌูุงุช ุงูุจูุช ููุชุฃูุฏ ูู ุงูุงุชุตุงู ุงูุตุญูุญ

## โก ุชุญุณูู ุงูุฃุฏุงุก

### ุฅุนุฏุงุฏุงุช Docker ุงููุญุณูุฉ

```bash
# ุชุดุบูู ูุน ููุงุฑุฏ ูุญุณูุฉ
docker run -d \
  --name telegram-bot-api \
  --restart unless-stopped \
  --memory=4g \
  --cpus=2 \
  --shm-size=1g \
  -p 8081:8081 \
  -v $(pwd)/data:/var/lib/telegram-bot-api \
  telegram-bot-api \
  --local \
  --verbosity=1 \
  --max-connections=1000
```

### ุชุญุณูู ุงููุธุงู

```bash
# ุฒูุงุฏุฉ ุญุฏูุฏ ุงููููุงุช ุงูููุชูุญุฉ
echo "* soft nofile 65536" | sudo tee -a /etc/security/limits.conf
echo "* hard nofile 65536" | sudo tee -a /etc/security/limits.conf

# ุชุญุณูู ุฅุนุฏุงุฏุงุช ุงูุดุจูุฉ
echo "net.core.rmem_max = 16777216" | sudo tee -a /etc/sysctl.conf
echo "net.core.wmem_max = 16777216" | sudo tee -a /etc/sysctl.conf
sudo sysctl -p
```

## ๐ ุงูุฃูุงู ูุงูุญูุงูุฉ

### ุชุฃููู ุงูุฎุงุฏู

```bash
# ุฑุจุท ุงูุฎุงุฏู ุจู localhost ููุท
docker run -p 127.0.0.1:8081:8081 telegram-bot-api

# ุงุณุชุฎุฏุงู ุดุจูุฉ Docker ูุฎุตุตุฉ
docker network create telegram-net
docker run --network telegram-net telegram-bot-api
```

### ุงููุณุฎ ุงูุงุญุชูุงุทู

```bash
# ูุณุฎ ุงุญุชูุงุทู ูุจูุงูุงุช ุงูุฎุงุฏู
tar -czf telegram-bot-api-backup-$(date +%Y%m%d).tar.gz ~/telegram-bot-api-data/

# ูุณุฎ ุงุญุชูุงุทู ูุฅุนุฏุงุฏุงุช ุงูุจูุช
cp .env .env.backup
cp credentials.json credentials.json.backup
```

## ๐ ููุงููุณ ุงูุฃุฏุงุก ุงููุชููุนุฉ

### ุฃููุงุช ุงูุฑูุน ุงูุชูุฑูุจูุฉ

| ุญุฌู ุงูููู | ุงูููุช ุงููุชููุน | ููุงุญุธุงุช |
|-----------|----------------|----------|
| 50 ููุฌุงุจุงูุช | 1-3 ุฏูุงุฆู | ุญุณุจ ุณุฑุนุฉ ุงูุฅูุชุฑูุช |
| 200 ููุฌุงุจุงูุช | 5-10 ุฏูุงุฆู | ูุฏ ูุญุชุงุฌ ุตุจุฑ |
| 500 ููุฌุงุจุงูุช | 15-30 ุฏูููุฉ | ุชุฃูุฏ ูู ุงูุงุณุชูุฑุงุฑ |
| 1 ุฌูุฌุงุจุงูุช | 30-60 ุฏูููุฉ | ูููููุงุช ุงููุจูุฑุฉ ุฌุฏุงู |
| 2 ุฌูุฌุงุจุงูุช | 60-120 ุฏูููุฉ | ุงูุญุฏ ุงูุฃูุตู |

### ุงุณุชููุงู ุงูููุงุฑุฏ

- **RAM:** 2-4 ุฌูุฌุงุจุงูุช ุฃุซูุงุก ูุนุงูุฌุฉ ุงููููุงุช ุงููุจูุฑุฉ
- **CPU:** ูุชูุณุท ุฃุซูุงุก ุงูุฑูุน
- **ุงูุชุฎุฒูู:** ูุคูุช ุญุณุจ ุญุฌู ุงูููู
- **ุงูุดุจูุฉ:** ุญุณุจ ุณุฑุนุฉ ุงูุฅูุชุฑูุช

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ

ุจุนุฏ ุฅุนุฏุงุฏ ุฏุนู ุงููููุงุช ุงููุจูุฑุฉ ุจูุฌุงุญ:

1. **ุงุฎุชุจุฑ ุงููุธุงู** ูุน ูููุงุช ูุฎุชููุฉ ุงูุฃุญุฌุงู
2. **ุฑุงูุจ ุงูุฃุฏุงุก** ูุณุฌูุงุช ุงููุธุงู
3. **ุฃุนุฏ ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ** ุจุงูุชุธุงู
4. **ุญุฏุซ ุงููุธุงู** ุนูุฏ ุชููุฑ ุฅุตุฏุงุฑุงุช ุฌุฏูุฏุฉ
5. **ุดุงุฑู ุชุฌุฑุจุชู** ูุน ุงููุฌุชูุน

## ๐ ุงูุฏุนู ูุงููุณุงุนุฏุฉ

ุฅุฐุง ูุงุฌูุช ูุดุงูู:

1. ุฑุงุฌุน ูุณู ุงุณุชูุดุงู ุงูุฃุฎุทุงุก ุฃุนูุงู
2. ุชุญูู ูู [Issues ุนูู GitHub](https://github.com/yourusername/telegram-drive-bot/issues)
3. ุฃูุดุฆ Issue ุฌุฏูุฏ ูุน:
   - ุชูุงุตูู ุงููุธุงู
   - ุณุฌูุงุช ุงูุฃุฎุทุงุก
   - ุฎุทูุงุช ุฅุนุงุฏุฉ ุฅูุชุงุฌ ุงููุดููุฉ

---

**ุชูุงูููุง! ๐ ุฃุตุจุญ ุจูุชู ุงูุขู ูุฏุนู ุงููููุงุช ุงููุจูุฑุฉ ุญุชู 2 ุฌูุฌุงุจุงูุช!**

